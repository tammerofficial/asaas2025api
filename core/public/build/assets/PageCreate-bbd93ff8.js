import{_ as V,r as g,k as P,o as r,c as n,a as t,l as b,J as y,w as S,f as v,g as d,h as m,n as c,t as f,j as _,K as k}from"./_plugin-vue_export-helper-25c71bc9.js";import{u as U,a as N}from"./central-v1-43971805.js";const B={class:"page-create-page"},E={class:"page-header"},D={class:"form-container"},M={class:"form-grid"},T={class:"form-main"},q={class:"form-group"},F={key:0,class:"error-message"},L={class:"form-group"},h={key:0,class:"error-message"},j={class:"form-group"},z={key:0,class:"error-message"},A={class:"form-sidebar"},I={class:"form-group"},J={class:"form-group"},K={class:"form-actions"},R=["disabled"],$={key:0},G={key:1},H={__name:"PageCreate",setup(O){const w=U(),p=g(!1),s=g({title:"",slug:"",page_content:"",status:0,visibility:1}),a=g({}),x=i=>i.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),C=async()=>{var i,e,u,l;a.value={},p.value=!0;try{!s.value.slug&&s.value.title&&(s.value.slug=x(s.value.title));const o=await N.pages.create(s.value);o.data.success?w.push("/pages"):o.data.errors?a.value=o.data.errors:alert("Failed to create page: "+(o.data.message||"Unknown error"))}catch(o){console.error("Error creating page:",o),(e=(i=o.response)==null?void 0:i.data)!=null&&e.errors?a.value=o.response.data.errors:alert("Failed to create page: "+(((l=(u=o.response)==null?void 0:u.data)==null?void 0:l.message)||"Unknown error"))}finally{p.value=!1}};return(i,e)=>{const u=P("router-link");return r(),n("div",B,[t("div",E,[e[6]||(e[6]=t("div",null,[t("h1",{class:"page-title"},"âž• Add New Page"),t("p",{class:"page-subtitle"},"Create a new website page")],-1)),b(u,{to:"/pages",class:"btn btn-secondary"},{default:y(()=>e[5]||(e[5]=[v(" â† Back to Pages ")])),_:1})]),t("div",D,[t("form",{onSubmit:S(C,["prevent"])},[t("div",M,[t("div",T,[t("div",q,[e[7]||(e[7]=t("label",{for:"title",class:"form-label"},[v(" Title "),t("span",{class:"required"},"*")],-1)),d(t("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=l=>s.value.title=l),class:c(["form-input",{error:a.value.title}]),placeholder:"Enter page title",required:""},null,2),[[m,s.value.title]]),a.value.title?(r(),n("span",F,f(a.value.title),1)):_("",!0)]),t("div",L,[e[8]||(e[8]=t("label",{for:"slug",class:"form-label"},"Slug",-1)),d(t("input",{type:"text",id:"slug","onUpdate:modelValue":e[1]||(e[1]=l=>s.value.slug=l),class:c(["form-input",{error:a.value.slug}]),placeholder:"page-slug (auto-generated)"},null,2),[[m,s.value.slug]]),a.value.slug?(r(),n("span",h,f(a.value.slug),1)):_("",!0),e[9]||(e[9]=t("small",{class:"form-help"},"Leave empty to auto-generate from title",-1))]),t("div",j,[e[10]||(e[10]=t("label",{for:"page_content",class:"form-label"},"Content",-1)),d(t("textarea",{id:"page_content","onUpdate:modelValue":e[2]||(e[2]=l=>s.value.page_content=l),class:c(["form-textarea",{error:a.value.page_content}]),rows:"15",placeholder:"Enter page content"},null,2),[[m,s.value.page_content]]),a.value.page_content?(r(),n("span",z,f(a.value.page_content),1)):_("",!0)])]),t("div",A,[t("div",I,[e[12]||(e[12]=t("label",{for:"status",class:"form-label"},"Status",-1)),d(t("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=l=>s.value.status=l),class:"form-select"},e[11]||(e[11]=[t("option",{value:0},"Draft",-1),t("option",{value:1},"Published",-1)]),512),[[k,s.value.status]])]),t("div",J,[e[14]||(e[14]=t("label",{for:"visibility",class:"form-label"},"Visibility",-1)),d(t("select",{id:"visibility","onUpdate:modelValue":e[4]||(e[4]=l=>s.value.visibility=l),class:"form-select"},e[13]||(e[13]=[t("option",{value:0},"Private",-1),t("option",{value:1},"Public",-1)]),512),[[k,s.value.visibility]])])])]),t("div",K,[t("button",{type:"submit",class:"btn btn-primary",disabled:p.value},[p.value?(r(),n("span",$,"â³ Saving...")):(r(),n("span",G,"ðŸ’¾ Save Page"))],8,R),b(u,{to:"/pages",class:"btn btn-secondary"},{default:y(()=>e[15]||(e[15]=[v(" Cancel ")])),_:1})])],32)])])}}},X=V(H,[["__scopeId","data-v-fbf85ba0"]]);export{X as default};
