import{_ as h,r,x as c,o as u,c as p,a as s,f as w,g as o,h as i,K as S,w as M,l as z}from"./_plugin-vue_export-helper-80b3f0a9.js";import{a as b}from"./central-v1-ce42f893.js";import{T as V}from"./Toast-da97317a.js";const T={class:"media-settings-page"},U={class:"settings-section"},q={class:"form-grid"},j={class:"form-group"},I={class:"form-group"},k={class:"settings-section"},B={class:"form-grid"},E={class:"form-group"},C={class:"form-group"},F={class:"form-group"},A={class:"form-group"},N={class:"settings-section"},P={class:"form-grid"},D={class:"form-group"},G={class:"form-group"},H={class:"form-actions"},K=["disabled"],L={key:0},Q={key:1},R={__name:"MediaSettings",setup(W){const n=r(!1),d=r(!1),g=r("success"),f=r(""),v=r(""),a=r({max_file_size:10,allowed_types:"jpg,jpeg,png,gif,pdf,doc,docx",image_quality:85,max_image_width:1920,max_image_height:1080,thumbnail_size:150,storage_driver:"local",storage_path:"/storage/media"}),_=async()=>{try{const l=await b.settings.get({type:"media"});if(l.data.success){const e=l.data.data||{};a.value={max_file_size:e.max_file_size||10,allowed_types:e.allowed_types||"jpg,jpeg,png,gif,pdf,doc,docx",image_quality:e.image_quality||85,max_image_width:e.max_image_width||1920,max_image_height:e.max_image_height||1080,thumbnail_size:e.thumbnail_size||150,storage_driver:e.storage_driver||"local",storage_path:e.storage_path||"/storage/media"}}}catch(l){console.error("Error fetching media settings:",l),m("error","Error","Failed to load settings")}},y=async()=>{n.value=!0;try{await b.settings.update({...a.value,type:"media"}),m("success","Success","Media settings saved successfully")}catch(l){console.error("Error saving media settings:",l),m("error","Error","Failed to save settings")}finally{n.value=!1}},x=()=>{_()},m=(l,e,t)=>{g.value=l,f.value=e,v.value=t,d.value=!0};return c(()=>{_()}),(l,e)=>(u(),p("div",T,[e[28]||(e[28]=s("div",{class:"page-header"},[s("div",null,[s("h1",{class:"page-title"},"ðŸ–¼ï¸ Media Settings"),s("p",{class:"page-subtitle"},"Configure media upload and storage settings")])],-1)),s("form",{onSubmit:M(y,["prevent"]),class:"settings-form"},[s("div",U,[e[13]||(e[13]=s("h3",null,"Upload Settings",-1)),s("div",q,[s("div",j,[e[9]||(e[9]=s("label",{class:"form-label"},[w("Max File Size (MB) "),s("span",{class:"required"},"*")],-1)),o(s("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>a.value.max_file_size=t),class:"form-input",placeholder:"10",min:"1",required:""},null,512),[[i,a.value.max_file_size]]),e[10]||(e[10]=s("small",{class:"form-help"},"Maximum file size in megabytes",-1))]),s("div",I,[e[11]||(e[11]=s("label",{class:"form-label"},"Allowed File Types",-1)),o(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>a.value.allowed_types=t),class:"form-input",placeholder:"jpg,jpeg,png,gif,pdf,doc,docx"},null,512),[[i,a.value.allowed_types]]),e[12]||(e[12]=s("small",{class:"form-help"},"Comma-separated list of allowed file extensions",-1))])])]),s("div",k,[e[22]||(e[22]=s("h3",null,"Image Processing",-1)),s("div",B,[s("div",E,[e[14]||(e[14]=s("label",{class:"form-label"},"Image Quality",-1)),o(s("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>a.value.image_quality=t),class:"form-input",placeholder:"85",min:"1",max:"100"},null,512),[[i,a.value.image_quality]]),e[15]||(e[15]=s("small",{class:"form-help"},"Image quality (1-100)",-1))]),s("div",C,[e[16]||(e[16]=s("label",{class:"form-label"},"Max Image Width (px)",-1)),o(s("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=t=>a.value.max_image_width=t),class:"form-input",placeholder:"1920",min:"1"},null,512),[[i,a.value.max_image_width]]),e[17]||(e[17]=s("small",{class:"form-help"},"Maximum width for uploaded images",-1))]),s("div",F,[e[18]||(e[18]=s("label",{class:"form-label"},"Max Image Height (px)",-1)),o(s("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>a.value.max_image_height=t),class:"form-input",placeholder:"1080",min:"1"},null,512),[[i,a.value.max_image_height]]),e[19]||(e[19]=s("small",{class:"form-help"},"Maximum height for uploaded images",-1))]),s("div",A,[e[20]||(e[20]=s("label",{class:"form-label"},"Thumbnail Size (px)",-1)),o(s("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=t=>a.value.thumbnail_size=t),class:"form-input",placeholder:"150",min:"1"},null,512),[[i,a.value.thumbnail_size]]),e[21]||(e[21]=s("small",{class:"form-help"},"Size of generated thumbnails",-1))])])]),s("div",N,[e[27]||(e[27]=s("h3",null,"Storage Settings",-1)),s("div",P,[s("div",D,[e[24]||(e[24]=s("label",{class:"form-label"},"Storage Driver",-1)),o(s("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.storage_driver=t),class:"form-select"},e[23]||(e[23]=[s("option",{value:"local"},"Local Storage",-1),s("option",{value:"s3"},"Amazon S3",-1),s("option",{value:"azure"},"Azure Blob",-1),s("option",{value:"gcs"},"Google Cloud Storage",-1)]),512),[[S,a.value.storage_driver]])]),s("div",G,[e[25]||(e[25]=s("label",{class:"form-label"},"Storage Path",-1)),o(s("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>a.value.storage_path=t),class:"form-input",placeholder:"/storage/media"},null,512),[[i,a.value.storage_path]]),e[26]||(e[26]=s("small",{class:"form-help"},"Path where media files are stored",-1))])])]),s("div",H,[s("button",{type:"submit",class:"btn btn-primary",disabled:n.value},[n.value?(u(),p("span",L,"â³ Saving...")):(u(),p("span",Q,"ðŸ’¾ Save Settings"))],8,K),s("button",{type:"button",class:"btn btn-secondary",onClick:x}," ðŸ”„ Reset ")])],32),z(V,{show:d.value,"onUpdate:show":e[8]||(e[8]=t=>d.value=t),type:g.value,title:f.value,message:v.value},null,8,["show","type","title","message"])]))}},Y=h(R,[["__scopeId","data-v-be04a16a"]]);export{Y as default};
