import{_ as S,r,x as y,k as p,o as T,c as b,a as n,l as d,w as V}from"./_plugin-vue_export-helper-335f4554.js";import{a as v}from"./central-v1-c4e0d34f.js";import{F as w}from"./FormInput-3bcd1977.js";import{T as z}from"./Toast-2332f712.js";const M={name:"GeneralSettings",components:{FormInput:w,Toast:z},setup(){const i=r(!1),e=r({site_title:"",site_tagline:"",site_email:"",timezone:""}),m=r(!1),t=r("success"),g=r(""),u=r(""),o=async()=>{i.value=!0;try{const a=await v.settings.list();if(a.data.success){const l=a.data.data||{};e.value={site_title:l.site_title||"",site_tagline:l.site_tagline||"",site_email:l.site_email||"",timezone:l.timezone||"UTC"}}}catch(a){console.error("Error fetching settings:",a)}finally{i.value=!1}},c=async()=>{i.value=!0;try{await v.settings.update(e.value),_("success","Success","Settings saved successfully")}catch{_("error","Error","Failed to save settings")}finally{i.value=!1}},s=()=>{o()},_=(a,l,f)=>{t.value=a,g.value=l,u.value=f,m.value=!0};return y(()=>{o()}),{loading:i,settings:e,showToast:m,toastType:t,toastTitle:g,toastMessage:u,saveSettings:c,resetSettings:s}}},U={class:"settings-page"},x={class:"settings-section"},F={class:"settings-section"},I={class:"form-actions"},k=["disabled"];function E(i,e,m,t,g,u){const o=p("FormInput"),c=p("Toast");return T(),b("div",U,[e[9]||(e[9]=n("div",{class:"page-header"},[n("h2",null,"⚙️ General Settings"),n("p",{class:"page-subtitle"},"Manage general application settings")],-1)),n("form",{onSubmit:e[5]||(e[5]=V((...s)=>t.saveSettings&&t.saveSettings(...s),["prevent"])),class:"settings-form"},[n("div",x,[e[7]||(e[7]=n("h3",null,"Site Information",-1)),d(o,{modelValue:t.settings.site_title,"onUpdate:modelValue":e[0]||(e[0]=s=>t.settings.site_title=s),label:"Site Title"},null,8,["modelValue"]),d(o,{modelValue:t.settings.site_tagline,"onUpdate:modelValue":e[1]||(e[1]=s=>t.settings.site_tagline=s),label:"Site Tagline"},null,8,["modelValue"]),d(o,{modelValue:t.settings.site_email,"onUpdate:modelValue":e[2]||(e[2]=s=>t.settings.site_email=s),type:"email",label:"Site Email"},null,8,["modelValue"])]),n("div",F,[e[8]||(e[8]=n("h3",null,"Time Zone",-1)),d(o,{modelValue:t.settings.timezone,"onUpdate:modelValue":e[3]||(e[3]=s=>t.settings.timezone=s),label:"Timezone"},null,8,["modelValue"])]),n("div",I,[n("button",{type:"submit",class:"btn-primary",disabled:t.loading},"Save Settings",8,k),n("button",{type:"button",class:"btn-secondary",onClick:e[4]||(e[4]=(...s)=>t.resetSettings&&t.resetSettings(...s))},"Reset")])],32),d(c,{show:t.showToast,"onUpdate:show":e[6]||(e[6]=s=>t.showToast=s),type:t.toastType,title:t.toastTitle,message:t.toastMessage},null,8,["show","type","title","message"])])}const N=S(M,[["render",E],["__scopeId","data-v-640eadb8"]]);export{N as default};
