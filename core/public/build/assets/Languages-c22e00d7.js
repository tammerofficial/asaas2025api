import{_ as V,r as o,x as A,o as n,c as u,a as e,F,b as R,t as d,w as C,f as w,g as i,h as f,K as $,L as S,j as q,l as N}from"./_plugin-vue_export-helper-80b3f0a9.js";import{a as B,S as I}from"./central-v1-ce42f893.js";import{T as O}from"./Toast-da97317a.js";const j={class:"languages-page"},K={class:"page-header"},Y={class:"page-actions"},z={class:"table-container"},G={key:0,class:"loading-overlay"},H={key:1,class:"languages-table"},J={key:0},P={class:"language-name"},Q={class:"code-badge"},W={key:0,class:"default-badge"},X=["onClick"],Z={class:"action-buttons"},ee=["onClick"],te=["onClick"],se={class:"modal-header"},le={class:"form-group"},ae={class:"form-group"},oe={class:"form-group"},ne={class:"form-group"},ue={class:"form-group"},re={class:"form-group"},de={class:"form-checkbox"},ie={class:"form-group"},ce={class:"form-checkbox"},ve={class:"form-actions"},me=["disabled"],ge={__name:"Languages",setup(pe){const c=o([]),b=o(!1),y=o(!1),v=o(!1),m=o(!1),_=o(!1),k=o("success"),h=o(""),L=o(""),a=o({id:null,name:"",code:"",native_name:"",locale:"",direction:"ltr",status:!0,is_default:!1}),g=async()=>{b.value=!0;try{const l=await B.system.languages();l.data.success&&(c.value=l.data.data||[])}catch(l){console.error("Error loading languages:",l),c.value=[],r("error","Error","Failed to load languages")}finally{b.value=!1}},D=l=>l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",E=l=>{a.value={id:l.id,name:l.name||"",code:l.code||l.locale||"",native_name:l.native_name||"",locale:l.locale||"",direction:l.direction||"ltr",status:l.status!==!1,is_default:l.is_default||!1},v.value=!0},M=async l=>{try{r("success","Success","Default language updated successfully"),await g()}catch(t){console.error("Error setting default language:",t),r("error","Error","Failed to set default language")}},T=async l=>{if(confirm(`Are you sure you want to delete language "${l.name}"?`))try{r("success","Success","Language deleted successfully"),await g()}catch(t){console.error("Error deleting language:",t),r("error","Error","Failed to delete language")}},U=async()=>{m.value=!0;try{a.value.id?r("success","Success","Language updated successfully"):r("success","Success","Language created successfully"),p(),await g()}catch(l){console.error("Error saving language:",l),r("error","Error","Failed to save language")}finally{m.value=!1}},p=()=>{y.value=!1,v.value=!1,a.value={id:null,name:"",code:"",native_name:"",locale:"",direction:"ltr",status:!0,is_default:!1}},r=(l,t,s)=>{k.value=l,h.value=t,L.value=s,_.value=!0};return A(()=>{g()}),(l,t)=>(n(),u("div",j,[e("div",K,[t[10]||(t[10]=e("div",null,[e("h1",{class:"page-title"},"ðŸŒ Languages"),e("p",{class:"page-subtitle"},"Manage system languages")],-1)),e("div",Y,[e("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=s=>y.value=!0)}," âž• Add New Language ")])]),e("div",z,[b.value?(n(),u("div",G,t[11]||(t[11]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading languages...",-1)]))):(n(),u("table",H,[t[13]||(t[13]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Code"),e("th",null,"Native Name"),e("th",null,"Status"),e("th",null,"Default"),e("th",null,"Created At"),e("th",null,"Actions")])],-1)),e("tbody",null,[c.value.length===0?(n(),u("tr",J,t[12]||(t[12]=[e("td",{colspan:"8",class:"empty-cell"}," No languages found ",-1)]))):(n(!0),u(F,{key:1},R(c.value,s=>(n(),u("tr",{key:s.id},[e("td",null,d(s.id),1),e("td",null,[e("div",P,[e("strong",null,d(s.name),1)])]),e("td",null,[e("span",Q,d(s.code||s.locale),1)]),e("td",null,d(s.native_name||"-"),1),e("td",null,[N(I,{status:s.status||"active"},null,8,["status"])]),e("td",null,[s.is_default?(n(),u("span",W,"âœ“ Default")):(n(),u("button",{key:1,class:"btn-sm btn-link",onClick:x=>M()}," Set Default ",8,X))]),e("td",null,d(D(s.created_at)),1),e("td",null,[e("div",Z,[e("button",{class:"btn-icon",onClick:x=>E(s),title:"Edit"}," âœï¸ ",8,ee),e("button",{class:"btn-icon btn-danger",onClick:x=>T(s),title:"Delete"}," ðŸ—‘ï¸ ",8,te)])])]))),128))])]))]),y.value||v.value?(n(),u("div",{key:0,class:"modal-overlay",onClick:p},[e("div",{class:"modal-content",onClick:t[8]||(t[8]=C(()=>{},["stop"]))},[e("div",se,[e("h3",null,d(v.value?"âœï¸ Edit Language":"âž• Add New Language"),1),e("button",{class:"modal-close",onClick:p},"Ã—")]),e("form",{onSubmit:C(U,["prevent"]),class:"modal-form"},[e("div",le,[t[14]||(t[14]=e("label",{class:"form-label"},[w("Language Name "),e("span",{class:"required"},"*")],-1)),i(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.name=s),class:"form-input",placeholder:"e.g., English",required:""},null,512),[[f,a.value.name]])]),e("div",ae,[t[15]||(t[15]=e("label",{class:"form-label"},[w("Language Code "),e("span",{class:"required"},"*")],-1)),i(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.code=s),class:"form-input",placeholder:"e.g., en",maxlength:"2",required:""},null,512),[[f,a.value.code]]),t[16]||(t[16]=e("small",{class:"form-help"},"ISO 639-1 code (2 letters)",-1))]),e("div",oe,[t[17]||(t[17]=e("label",{class:"form-label"},"Native Name",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>a.value.native_name=s),class:"form-input",placeholder:"e.g., English"},null,512),[[f,a.value.native_name]])]),e("div",ne,[t[18]||(t[18]=e("label",{class:"form-label"},"Locale",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=s=>a.value.locale=s),class:"form-input",placeholder:"e.g., en_US"},null,512),[[f,a.value.locale]]),t[19]||(t[19]=e("small",{class:"form-help"},"Locale format: language_COUNTRY",-1))]),e("div",ue,[t[21]||(t[21]=e("label",{class:"form-label"},"Direction",-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>a.value.direction=s),class:"form-select"},t[20]||(t[20]=[e("option",{value:"ltr"},"Left to Right (LTR)",-1),e("option",{value:"rtl"},"Right to Left (RTL)",-1)]),512),[[$,a.value.direction]])]),e("div",re,[e("label",de,[i(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=s=>a.value.status=s),class:"checkbox-input"},null,512),[[S,a.value.status]]),t[22]||(t[22]=e("span",null,"Active",-1))])]),e("div",ie,[e("label",ce,[i(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=s=>a.value.is_default=s),class:"checkbox-input"},null,512),[[S,a.value.is_default]]),t[23]||(t[23]=e("span",null,"Set as Default",-1))])]),e("div",ve,[e("button",{type:"submit",class:"btn btn-primary",disabled:m.value},d(m.value?"Saving...":"Save Language"),9,me),e("button",{type:"button",class:"btn btn-secondary",onClick:p}," Cancel ")])],32)])])):q("",!0),N(O,{show:_.value,"onUpdate:show":t[9]||(t[9]=s=>_.value=s),type:k.value,title:h.value,message:L.value},null,8,["show","type","title","message"])]))}},_e=V(ge,[["__scopeId","data-v-9189b3b2"]]);export{_e as default};
