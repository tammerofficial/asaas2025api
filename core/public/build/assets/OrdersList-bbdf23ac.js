import{_ as k,r as d,x,o,c as i,a as t,g,h as S,K as C,u as D,F as N,b as V,t as l,j as w,l as P}from"./_plugin-vue_export-helper-80b3f0a9.js";import{u as F,a as L,S as O}from"./central-v1-ce42f893.js";const T={class:"orders-page"},A={class:"filters-bar"},$={class:"search-box"},B={class:"table-container"},I={key:0,class:"loading-overlay"},U={key:1,class:"orders-table"},M={key:0},E={class:"tenant-id"},K={class:"plan-id"},j={class:"amount-text"},Q={class:"action-buttons"},R=["onClick"],W={key:0,class:"pagination"},q=["disabled"],z={class:"pagination-info"},G=["disabled"],H={__name:"OrdersList",setup(J){const m=F(),r=d([]),c=d(!1),p=d(""),v=d(""),s=d({current_page:1,last_page:1,per_page:20,total:0});let _=null;const u=async(n=1)=>{c.value=!0;try{const e={page:n,per_page:s.value.per_page};p.value&&(e.search=p.value),v.value&&(e.status=v.value);const a=await L.orders.list(e);a.data.success&&(r.value=a.data.data||[],a.data.meta&&(s.value=a.data.meta))}catch(e){console.error("Error loading orders:",e),r.value=[]}finally{c.value=!1}},h=()=>{clearTimeout(_),_=setTimeout(()=>{u(1)},500)},f=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"KWD",minimumFractionDigits:3,maximumFractionDigits:3}).format(n||0),y=n=>n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",b=n=>{m.push(`/orders/${n.id}`)};return x(()=>{u()}),(n,e)=>(o(),i("div",T,[e[9]||(e[9]=t("div",{class:"page-header"},[t("div",null,[t("h1",{class:"page-title"},"ðŸ“¦ Orders"),t("p",{class:"page-subtitle"},"View and manage all orders")])],-1)),t("div",A,[t("div",$,[g(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),placeholder:"Search orders...",class:"search-input",onInput:h},null,544),[[S,p.value]])]),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>v.value=a),class:"filter-select",onChange:e[2]||(e[2]=a=>u(1))},e[5]||(e[5]=[D('<option value="" data-v-4e88a1e8>All Status</option><option value="pending" data-v-4e88a1e8>Pending</option><option value="processing" data-v-4e88a1e8>Processing</option><option value="completed" data-v-4e88a1e8>Completed</option><option value="cancelled" data-v-4e88a1e8>Cancelled</option>',5)]),544),[[C,v.value]])]),t("div",B,[c.value?(o(),i("div",I,e[6]||(e[6]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading orders...",-1)]))):(o(),i("table",U,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Tenant"),t("th",null,"Plan"),t("th",null,"Amount"),t("th",null,"Status"),t("th",null,"Created At"),t("th",null,"Actions")])],-1)),t("tbody",null,[r.value.length===0?(o(),i("tr",M,e[7]||(e[7]=[t("td",{colspan:"7",class:"empty-cell"}," No orders found ",-1)]))):(o(!0),i(N,{key:1},V(r.value,a=>(o(),i("tr",{key:a.id},[t("td",null,l(a.id),1),t("td",null,[t("span",E,"Tenant #"+l(a.tenant_id),1)]),t("td",null,[t("span",K,"Plan #"+l(a.plan_id),1)]),t("td",null,[t("strong",j,l(f(a.total_amount||a.amount)),1)]),t("td",null,[P(O,{status:a.status||"pending"},null,8,["status"])]),t("td",null,l(y(a.created_at)),1),t("td",null,[t("div",Q,[t("button",{class:"btn-icon",onClick:X=>b(a),title:"View"}," ðŸ‘ï¸ ",8,R)])])]))),128))])]))]),!c.value&&r.value.length>0&&s.value.last_page>1?(o(),i("div",W,[t("button",{class:"pagination-btn",disabled:s.value.current_page===1,onClick:e[3]||(e[3]=a=>u(s.value.current_page-1))}," â† Previous ",8,q),t("span",z," Page "+l(s.value.current_page)+" of "+l(s.value.last_page)+" ("+l(s.value.total)+" total) ",1),t("button",{class:"pagination-btn",disabled:s.value.current_page>=s.value.last_page,onClick:e[4]||(e[4]=a=>u(s.value.current_page+1))}," Next â†’ ",8,G)])):w("",!0)]))}},tt=k(H,[["__scopeId","data-v-4e88a1e8"]]);export{tt as default};
