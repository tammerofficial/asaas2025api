import{_ as w,r as a,k as v,o as _,c as x,a as o,l as n,J as T,g,K as b,h as V,w as F,f as k}from"./_plugin-vue_export-helper-25c71bc9.js";import{u as P,a as C}from"./central-v1-43971805.js";import{F as M}from"./FormInput-c38c3cc3.js";import{T as N}from"./Toast-c9da9e99.js";const S={name:"PackageCreate",components:{FormInput:M,Toast:N},setup(){const y=P(),e=a(!1),i=a({title:"",price:"",type:0,status:1,features:[]}),t=a("[]"),d=a(!1),f=a("success"),l=a(""),r=a(""),p=async()=>{var u,m;e.value=!0;try{i.value.features=JSON.parse(t.value),await C.plans.create(i.value),s("success","Success","Package created successfully"),setTimeout(()=>y.push("/packages"),1500)}catch(c){s("error","Error",((m=(u=c.response)==null?void 0:u.data)==null?void 0:m.message)||"Failed to create package")}finally{e.value=!1}},s=(u,m,c)=>{f.value=u,l.value=m,r.value=c,d.value=!0};return{form:i,featuresText:t,loading:e,showToast:d,toastType:f,toastTitle:l,toastMessage:r,submitForm:p}}},U={class:"package-form-page"},I={class:"page-header"},B={class:"form-group"},J={class:"form-group"},q={class:"form-group"},A={class:"form-actions"},E=["disabled"];function O(y,e,i,t,d,f){const l=v("router-link"),r=v("FormInput"),p=v("Toast");return _(),x("div",U,[o("div",I,[e[8]||(e[8]=o("h2",null,"➕ Add New Package",-1)),n(l,{to:"/packages",class:"btn-secondary"},{default:T(()=>e[7]||(e[7]=[k("← Back to Packages")])),_:1})]),o("form",{onSubmit:e[5]||(e[5]=F((...s)=>t.submitForm&&t.submitForm(...s),["prevent"])),class:"form-container"},[n(r,{modelValue:t.form.title,"onUpdate:modelValue":e[0]||(e[0]=s=>t.form.title=s),label:"Title",required:""},null,8,["modelValue"]),n(r,{modelValue:t.form.price,"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.price=s),type:"number",label:"Price",required:""},null,8,["modelValue"]),o("div",B,[e[10]||(e[10]=o("label",null,"Type",-1)),g(o("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.type=s),class:"form-select"},e[9]||(e[9]=[o("option",{value:"0"},"Monthly",-1),o("option",{value:"1"},"Yearly",-1)]),512),[[b,t.form.type]])]),o("div",J,[e[12]||(e[12]=o("label",null,"Status",-1)),g(o("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.status=s),class:"form-select"},e[11]||(e[11]=[o("option",{value:"1"},"Active",-1),o("option",{value:"0"},"Inactive",-1)]),512),[[b,t.form.status]])]),o("div",q,[e[13]||(e[13]=o("label",null,"Features (JSON array)",-1)),g(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>t.featuresText=s),class:"form-textarea",rows:"5"},null,512),[[V,t.featuresText]])]),o("div",A,[o("button",{type:"submit",class:"btn-primary",disabled:t.loading},"Create Package",8,E),n(l,{to:"/packages",class:"btn-secondary"},{default:T(()=>e[14]||(e[14]=[k("Cancel")])),_:1})])],32),n(p,{show:t.showToast,"onUpdate:show":e[6]||(e[6]=s=>t.showToast=s),type:t.toastType,title:t.toastTitle,message:t.toastMessage},null,8,["show","type","title","message"])])}const j=w(S,[["render",O],["__scopeId","data-v-9f0ba5e9"]]);export{j as default};
