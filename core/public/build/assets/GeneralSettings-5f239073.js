import{_ as S,r,x as y,k as f,o as T,c as b,a,l as d,w as V}from"./_plugin-vue_export-helper-25c71bc9.js";import{a as p}from"./central-v1-43971805.js";import{F as w}from"./FormInput-c38c3cc3.js";import{T as z}from"./Toast-c9da9e99.js";const M={name:"GeneralSettings",components:{FormInput:w,Toast:z},setup(){const i=r(!1),t=r({site_title:"",site_tagline:"",site_email:"",timezone:""}),m=r(!1),e=r("success"),g=r(""),u=r(""),n=async()=>{i.value=!0;try{const o=await p.settings.list();if(o.data.success){const l=o.data.data||{};t.value={site_title:l.site_title||"",site_tagline:l.site_tagline||"",site_email:l.site_email||"",timezone:l.timezone||"UTC"}}}catch(o){console.error("Error fetching settings:",o)}finally{i.value=!1}},c=async()=>{i.value=!0;try{await p.settings.update(t.value),_("success","Success","Settings saved successfully")}catch{_("error","Error","Failed to save settings")}finally{i.value=!1}},s=()=>{n()},_=(o,l,v)=>{e.value=o,g.value=l,u.value=v,m.value=!0};return y(()=>{n()}),{loading:i,settings:t,showToast:m,toastType:e,toastTitle:g,toastMessage:u,saveSettings:c,resetSettings:s}}},U={class:"settings-page"},x={class:"settings-section"},F={class:"settings-section"},I={class:"form-actions"},k=["disabled"];function E(i,t,m,e,g,u){const n=f("FormInput"),c=f("Toast");return T(),b("div",U,[t[9]||(t[9]=a("div",{class:"page-header"},[a("h2",null,"⚙️ General Settings"),a("p",{class:"page-subtitle"},"Manage general application settings")],-1)),a("form",{onSubmit:t[5]||(t[5]=V((...s)=>e.saveSettings&&e.saveSettings(...s),["prevent"])),class:"settings-form"},[a("div",x,[t[7]||(t[7]=a("h3",null,"Site Information",-1)),d(n,{modelValue:e.settings.site_title,"onUpdate:modelValue":t[0]||(t[0]=s=>e.settings.site_title=s),label:"Site Title"},null,8,["modelValue"]),d(n,{modelValue:e.settings.site_tagline,"onUpdate:modelValue":t[1]||(t[1]=s=>e.settings.site_tagline=s),label:"Site Tagline"},null,8,["modelValue"]),d(n,{modelValue:e.settings.site_email,"onUpdate:modelValue":t[2]||(t[2]=s=>e.settings.site_email=s),type:"email",label:"Site Email"},null,8,["modelValue"])]),a("div",F,[t[8]||(t[8]=a("h3",null,"Time Zone",-1)),d(n,{modelValue:e.settings.timezone,"onUpdate:modelValue":t[3]||(t[3]=s=>e.settings.timezone=s),label:"Timezone"},null,8,["modelValue"])]),a("div",I,[a("button",{type:"submit",class:"btn-primary",disabled:e.loading},"Save Settings",8,k),a("button",{type:"button",class:"btn-secondary",onClick:t[4]||(t[4]=(...s)=>e.resetSettings&&e.resetSettings(...s))},"Reset")])],32),d(c,{show:e.showToast,"onUpdate:show":t[6]||(t[6]=s=>e.showToast=s),type:e.toastType,title:e.toastTitle,message:e.toastMessage},null,8,["show","type","title","message"])])}const N=S(M,[["render",E],["__scopeId","data-v-8a15af1c"]]);export{N as default};
