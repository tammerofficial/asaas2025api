import{S as m,a as b}from"./central-v1-43971805.js";import{D as f}from"./DataTable-40270e16.js";import{_ as v,r as s,p as y,x as k,k as i,o as P,c as x,a as p,l as g,J as _,f as D}from"./_plugin-vue_export-helper-25c71bc9.js";const B={name:"OrdersList",components:{DataTable:f,StatusBadge:m},setup(){const r=s(!1),e=s([]),l=s(1),a=s(1),d=s(0),c=s(20),u=[{key:"id",label:"ID",sortable:!0},{key:"tenant_id",label:"Tenant ID",sortable:!0},{key:"plan_id",label:"Plan ID",sortable:!0},{key:"total_amount",label:"Amount",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"created_at",label:"Created",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],n=async()=>{r.value=!0;try{const t=await b.orders.list({page:l.value,per_page:c.value});t.data.success&&(e.value=t.data.data.data||t.data.data||[],d.value=t.data.data.total||e.value.length,a.value=t.data.data.last_page||1)}catch(t){console.error("Error fetching orders:",t)}finally{r.value=!1}};return y(l,()=>{n()}),k(()=>{n()}),{loading:r,orders:e,columns:u,currentPage:l,totalPages:a,total:d,perPage:c}}},w={class:"orders-page"};function O(r,e,l,a,d,c){const u=i("StatusBadge"),n=i("router-link"),t=i("DataTable");return P(),x("div",w,[e[2]||(e[2]=p("div",{class:"page-header"},[p("h2",null,"ðŸ“¦ Orders"),p("p",{class:"page-subtitle"},"View and manage all orders")],-1)),g(t,{columns:a.columns,data:a.orders,loading:a.loading,pagination:!0,"current-page":a.currentPage,"total-pages":a.totalPages,total:a.total,"per-page":a.perPage,"onUpdate:currentPage":e[0]||(e[0]=o=>a.currentPage=o)},{"cell-status":_(({value:o})=>[g(u,{status:o||"pending"},null,8,["status"])]),"cell-actions":_(({row:o})=>[g(n,{to:`/orders/${o.id}`,class:"btn-sm btn-primary"},{default:_(()=>e[1]||(e[1]=[D("View")])),_:2},1032,["to"])]),_:1},8,["columns","data","loading","current-page","total-pages","total","per-page"])])}const h=v(B,[["render",O],["__scopeId","data-v-0b759f89"]]);export{h as default};
