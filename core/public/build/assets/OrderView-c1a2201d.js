import{S as v,b as y,a as g}from"./central-v1-43971805.js";import{_ as b,r as c,x as D,k as p,o as l,c as r,a as t,l as m,J as k,t as o,F as S,b as h,j as w,f as L}from"./_plugin-vue_export-helper-25c71bc9.js";const O={name:"OrderView",components:{StatusBadge:v},setup(){const d=y(),e=c(!1),i=c(null),s=c([]),_=async()=>{e.value=!0;try{const[a,n]=await Promise.all([g.orders.get(d.params.id),g.orders.paymentLogs(d.params.id)]);a.data.success&&(i.value=a.data.data),n.data.success&&(s.value=n.data.data||[])}catch(a){console.error("Error fetching order:",a)}finally{e.value=!1}},f=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"KWD"}).format(a||0),u=a=>a?new Date(a).toLocaleString():"-";return D(()=>{_()}),{loading:e,order:i,paymentLogs:s,formatPrice:f,formatDate:u}}},x={class:"order-view-page"},B={class:"page-header"},I={key:0,class:"loading"},V={key:1,class:"order-details"},N={class:"detail-section"},P={class:"detail-grid"},C={class:"detail-item"},A={class:"detail-item"},F={class:"detail-item"},R={class:"detail-item"},T={class:"detail-item"},E={class:"detail-item"},j={class:"detail-section"},J={key:0,class:"empty"},K={key:1,class:"logs-table"};function M(d,e,i,s,_,f){const u=p("router-link"),a=p("StatusBadge");return l(),r("div",x,[t("div",B,[e[1]||(e[1]=t("h2",null,"ðŸ“¦ Order Details",-1)),m(u,{to:"/orders",class:"btn-secondary"},{default:k(()=>e[0]||(e[0]=[L("â† Back to Orders")])),_:1})]),s.loading?(l(),r("div",I,"Loading order...")):s.order?(l(),r("div",V,[t("div",N,[e[8]||(e[8]=t("h3",null,"Order Information",-1)),t("div",P,[t("div",C,[e[2]||(e[2]=t("label",null,"Order ID:",-1)),t("span",null,o(s.order.id),1)]),t("div",A,[e[3]||(e[3]=t("label",null,"Tenant ID:",-1)),t("span",null,o(s.order.tenant_id),1)]),t("div",F,[e[4]||(e[4]=t("label",null,"Plan ID:",-1)),t("span",null,o(s.order.plan_id),1)]),t("div",R,[e[5]||(e[5]=t("label",null,"Total Amount:",-1)),t("span",null,o(s.formatPrice(s.order.total_amount)),1)]),t("div",T,[e[6]||(e[6]=t("label",null,"Status:",-1)),m(a,{status:s.order.status||"pending"},null,8,["status"])]),t("div",E,[e[7]||(e[7]=t("label",null,"Created At:",-1)),t("span",null,o(s.formatDate(s.order.created_at)),1)])])]),t("div",j,[e[10]||(e[10]=t("h3",null,"Payment Logs",-1)),s.paymentLogs.length===0?(l(),r("div",J,"No payment logs found")):(l(),r("table",K,[e[9]||(e[9]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Amount"),t("th",null,"Status"),t("th",null,"Date")])],-1)),t("tbody",null,[(l(!0),r(S,null,h(s.paymentLogs,n=>(l(),r("tr",{key:n.id},[t("td",null,o(n.id),1),t("td",null,o(s.formatPrice(n.amount)),1),t("td",null,[m(a,{status:n.status||"pending"},null,8,["status"])]),t("td",null,o(s.formatDate(n.created_at)),1)]))),128))])]))])])):w("",!0)])}const q=b(O,[["render",M],["__scopeId","data-v-f0f69523"]]);export{q as default};
