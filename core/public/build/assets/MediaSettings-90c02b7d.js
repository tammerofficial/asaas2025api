import{_ as v,r as n,x as y,k as _,o as w,c as S,a,l as m,w as T}from"./_plugin-vue_export-helper-335f4554.js";import{a as f}from"./central-v1-c4e0d34f.js";import{F as b}from"./FormInput-3bcd1977.js";import{T as M}from"./Toast-2332f712.js";const x={name:"MediaSettings",components:{FormInput:b,Toast:M},setup(){const l=n(!1),e=n({max_file_size:10,allowed_file_types:"jpg,jpeg,png,gif,pdf"}),d=n(!1),s=n("success"),c=n(""),p=n(""),i=async()=>{l.value=!0;try{const o=await f.settings.list();if(o.data.success){const r=o.data.data||{};e.value={max_file_size:r.max_file_size||10,allowed_file_types:r.allowed_file_types||"jpg,jpeg,png,gif,pdf"}}}catch(o){console.error("Error fetching settings:",o)}finally{l.value=!1}},g=async()=>{l.value=!0;try{await f.settings.update(e.value),t("success","Success","Media settings saved successfully")}catch{t("error","Error","Failed to save media settings")}finally{l.value=!1}},t=(o,r,u)=>{s.value=o,c.value=r,p.value=u,d.value=!0};return y(()=>{i()}),{loading:l,settings:e,showToast:d,toastType:s,toastTitle:c,toastMessage:p,saveSettings:g}}},h={class:"settings-page"},V={class:"settings-section"},F={class:"form-actions"},z=["disabled"];function j(l,e,d,s,c,p){const i=_("FormInput"),g=_("Toast");return w(),S("div",h,[e[5]||(e[5]=a("div",{class:"page-header"},[a("h2",null,"ðŸ–¼ï¸ Media Settings"),a("p",{class:"page-subtitle"},"Configure media upload settings")],-1)),a("form",{onSubmit:e[2]||(e[2]=T((...t)=>s.saveSettings&&s.saveSettings(...t),["prevent"])),class:"settings-form"},[a("div",V,[e[4]||(e[4]=a("h3",null,"Upload Limits",-1)),m(i,{modelValue:s.settings.max_file_size,"onUpdate:modelValue":e[0]||(e[0]=t=>s.settings.max_file_size=t),type:"number",label:"Max File Size (MB)"},null,8,["modelValue"]),m(i,{modelValue:s.settings.allowed_file_types,"onUpdate:modelValue":e[1]||(e[1]=t=>s.settings.allowed_file_types=t),label:"Allowed File Types (comma separated)"},null,8,["modelValue"])]),a("div",F,[a("button",{type:"submit",class:"btn-primary",disabled:s.loading},"Save Settings",8,z)])],32),m(g,{show:s.showToast,"onUpdate:show":e[3]||(e[3]=t=>s.showToast=t),type:s.toastType,title:s.toastTitle,message:s.toastMessage},null,8,["show","type","title","message"])])}const E=v(x,[["render",j],["__scopeId","data-v-b47cec29"]]);export{E as default};
