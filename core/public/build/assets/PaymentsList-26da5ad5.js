import{S as _,a as b}from"./central-v1-c4e0d34f.js";import{D as f}from"./DataTable-c3648ff2.js";import{_ as P,r as s,p as v,x as k,k as i,o as D,c as x,a as m,l as g,J as l,f as y,t as S}from"./_plugin-vue_export-helper-335f4554.js";const h={name:"PaymentsList",components:{DataTable:f,StatusBadge:_},setup(){const o=s(!1),e=s([]),n=s(1),t=s(1),c=s(0),d=s(20),u=[{key:"id",label:"ID",sortable:!0},{key:"order_id",label:"Order ID",sortable:!0},{key:"amount",label:"Amount",sortable:!0},{key:"payment_method",label:"Method",sortable:!1},{key:"status",label:"Status",sortable:!0},{key:"created_at",label:"Created",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],r=async()=>{o.value=!0;try{const a=await b.payments.list({page:n.value,per_page:d.value});a.data.success&&(e.value=a.data.data.data||a.data.data||[],c.value=a.data.data.total||e.value.length,t.value=a.data.data.last_page||1)}catch(a){console.error("Error fetching payments:",a)}finally{o.value=!1}},p=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"KWD"}).format(a||0);return v(n,()=>{r()}),k(()=>{r()}),{loading:o,payments:e,columns:u,currentPage:n,totalPages:t,total:c,perPage:d,formatPrice:p}}},w={class:"payments-page"};function B(o,e,n,t,c,d){const u=i("StatusBadge"),r=i("router-link"),p=i("DataTable");return D(),x("div",w,[e[2]||(e[2]=m("div",{class:"page-header"},[m("h2",null,"ðŸ’³ Payments"),m("p",{class:"page-subtitle"},"View and manage all payments")],-1)),g(p,{columns:t.columns,data:t.payments,loading:t.loading,pagination:!0,"current-page":t.currentPage,"total-pages":t.totalPages,total:t.total,"per-page":t.perPage,"onUpdate:currentPage":e[0]||(e[0]=a=>t.currentPage=a)},{"cell-status":l(({value:a})=>[g(u,{status:a||"pending"},null,8,["status"])]),"cell-amount":l(({value:a})=>[y(S(t.formatPrice(a)),1)]),"cell-actions":l(({row:a})=>[g(r,{to:`/payments/${a.id}`,class:"btn-sm btn-primary"},{default:l(()=>e[1]||(e[1]=[y("View")])),_:2},1032,["to"])]),_:1},8,["columns","data","loading","current-page","total-pages","total","per-page"])])}const T=P(h,[["render",B],["__scopeId","data-v-625a0b40"]]);export{T as default};
