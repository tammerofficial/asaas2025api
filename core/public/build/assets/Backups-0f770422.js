import{_ as x,r as c,x as F,o as n,c as l,a as t,f as b,t as u,u as S,F as D,b as V,j as $,g as d,K as M,h as N,L as f,l as z}from"./_plugin-vue_export-helper-80b3f0a9.js";import{S as E}from"./central-v1-ce42f893.js";const T={class:"backups-page"},I={class:"page-header"},U=["disabled"],q={key:0},L={key:1},K={class:"backups-container"},R={key:0,class:"loading-overlay"},j={key:1,class:"backups-list"},A={class:"backup-header"},Y={class:"backup-info"},G={class:"backup-name"},O={class:"backup-description"},P={class:"backup-status"},W={class:"backup-actions"},H=["onClick"],J=["onClick"],Q=["onClick"],X=["onClick"],Z={key:0,class:"empty-state"},ee={class:"settings-card"},te={class:"settings-form"},se={class:"form-group"},ae={class:"form-group"},oe={class:"form-group"},ne={class:"form-group"},le={__name:"Backups",setup(re){const r=c([]),p=c(!1),i=c(!1),o=c({frequency:"weekly",keepCount:7,includeDatabase:!0,includeFiles:!0}),k=async()=>{p.value=!0;try{r.value=[{id:1,name:"Full Backup",created_at:new Date().toISOString(),size:52428800,type:"Full",status:"completed"}]}catch(s){console.error("Error loading backups:",s),r.value=[]}finally{p.value=!1}},m=async()=>{i.value=!0;try{await new Promise(s=>setTimeout(s,2e3)),await k(),alert("Backup created successfully")}catch(s){console.error("Error creating backup:",s),alert("Failed to create backup")}finally{i.value=!1}},y=async s=>{if(confirm(`Restore from backup "${s.name}"? This will overwrite current data.`))try{alert("Backup restore initiated. This may take a few minutes.")}catch(e){console.error("Error restoring backup:",e),alert("Failed to restore backup")}},g=s=>{alert(`Download backup: ${s.name}`)},_=s=>{alert(`View backup details: ${s.name}`)},B=async s=>{if(confirm(`Delete backup "${s.name}"?`))try{r.value=r.value.filter(e=>e.id!==s.id),alert("Backup deleted successfully")}catch(e){console.error("Error deleting backup:",e),alert("Failed to delete backup")}},h=async()=>{try{alert("Settings saved successfully")}catch(s){console.error("Error saving settings:",s),alert("Failed to save settings")}},w=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",C=s=>{if(!s)return"0 B";const e=s/1024;if(e<1024)return`${e.toFixed(2)} KB`;const a=e/1024;return a<1024?`${a.toFixed(2)} MB`:`${(a/1024).toFixed(2)} GB`};return F(()=>{k()}),(s,e)=>(n(),l("div",T,[t("div",I,[e[4]||(e[4]=t("div",null,[t("h1",{class:"page-title"},"ğŸ’¾ Backups"),t("p",{class:"page-subtitle"},"Manage system backups")],-1)),t("button",{class:"btn btn-primary",onClick:m,disabled:i.value},[i.value?(n(),l("span",q,"â³")):(n(),l("span",L,"â•")),b(" "+u(i.value?"Creating...":"Create Backup"),1)],8,U)]),e[14]||(e[14]=S('<div class="info-card" data-v-277f02bc><div class="info-icon" data-v-277f02bc><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" data-v-277f02bc><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z" clip-rule="evenodd" data-v-277f02bc></path></svg></div><div class="info-content" data-v-277f02bc><h3 data-v-277f02bc>Backup Information</h3><p data-v-277f02bc>Regular backups help protect your data. Create backups before major updates or changes. You can restore from any backup point.</p></div></div>',1)),t("div",K,[p.value?(n(),l("div",R,e[5]||(e[5]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading backups...",-1)]))):(n(),l("div",j,[(n(!0),l(D,null,V(r.value,a=>(n(),l("div",{key:a.id,class:"backup-card"},[t("div",A,[t("div",Y,[t("h3",G,u(a.name||"Backup "+a.id),1),t("p",O," Created: "+u(w(a.created_at))+" â€¢ Size: "+u(C(a.size))+" â€¢ Type: "+u(a.type||"Full"),1)]),t("div",P,[z(E,{status:a.status||"completed"},null,8,["status"])])]),t("div",W,[t("button",{class:"btn btn-sm btn-primary",onClick:v=>y(a)}," ğŸ”„ Restore ",8,H),t("button",{class:"btn btn-sm btn-outline",onClick:v=>g(a)}," ğŸ“¥ Download ",8,J),t("button",{class:"btn btn-sm btn-outline",onClick:v=>_(a)}," ğŸ‘ï¸ View Details ",8,Q),t("button",{class:"btn btn-sm btn-danger",onClick:v=>B(a)}," ğŸ—‘ï¸ Delete ",8,X)])]))),128)),r.value.length===0?(n(),l("div",Z,[e[6]||(e[6]=t("p",null,"No backups found",-1)),t("button",{class:"btn btn-primary",onClick:m}," Create Your First Backup ")])):$("",!0)]))]),t("div",ee,[e[13]||(e[13]=t("h3",null,"Backup Settings",-1)),t("div",te,[t("div",se,[e[8]||(e[8]=t("label",null,"Auto Backup Frequency",-1)),d(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.frequency=a),class:"form-select"},e[7]||(e[7]=[t("option",{value:"daily"},"Daily",-1),t("option",{value:"weekly"},"Weekly",-1),t("option",{value:"monthly"},"Monthly",-1),t("option",{value:"never"},"Never",-1)]),512),[[M,o.value.frequency]])]),t("div",ae,[e[9]||(e[9]=t("label",null,"Keep Backups",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=a=>o.value.keepCount=a),min:"1",max:"30",class:"form-input"},null,512),[[N,o.value.keepCount]]),e[10]||(e[10]=t("span",{class:"form-hint"},"Maximum number of backups to keep",-1))]),t("div",oe,[t("label",null,[d(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=a=>o.value.includeDatabase=a)},null,512),[[f,o.value.includeDatabase]]),e[11]||(e[11]=b(" Include database in backups "))])]),t("div",ne,[t("label",null,[d(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=a=>o.value.includeFiles=a)},null,512),[[f,o.value.includeFiles]]),e[12]||(e[12]=b(" Include files in backups "))])]),t("button",{class:"btn btn-primary",onClick:h}," ğŸ’¾ Save Settings ")])])]))}},ce=x(le,[["__scopeId","data-v-277f02bc"]]);export{ce as default};
