import{_ as p,o as a,c as s,a as o,t as i,j as y,n as m,F as _,b as f,k as P,l as k,M as v,z as S,f as N}from"./_plugin-vue_export-helper-335f4554.js";const x={name:"LoadingSpinner",props:{fullScreen:{type:Boolean,default:!1},message:{type:String,default:"Loading..."}}},C={key:0,class:"loading-message"};function V(t,n,e,u,c,d){return a(),s("div",{class:m(["loading-spinner",{"full-screen":e.fullScreen}])},[n[0]||(n[0]=o("div",{class:"spinner"},null,-1)),e.message?(a(),s("p",C,i(e.message),1)):y("",!0)],2)}const M=p(x,[["render",V],["__scopeId","data-v-e21ff8af"]]);const L={name:"Pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},total:{type:Number,required:!0},perPage:{type:Number,default:20}},emits:["update:currentPage"],computed:{from(){return(this.currentPage-1)*this.perPage+1},to(){const t=this.currentPage*this.perPage;return t>this.total?this.total:t},visiblePages(){const t=[];let e=Math.max(1,this.currentPage-Math.floor(2.5)),u=Math.min(this.totalPages,e+5-1);u-e<5-1&&(e=Math.max(1,u-5+1));for(let c=e;c<=u;c++)t.push(c);return t}}},B={class:"pagination"},D={class:"pagination-info"},q={class:"pagination-controls"},T=["disabled"],$={class:"pagination-numbers"},I=["onClick"],O=["disabled"];function z(t,n,e,u,c,d){return a(),s("div",B,[o("div",D," Showing "+i(d.from)+" to "+i(d.to)+" of "+i(e.total)+" results ",1),o("div",q,[o("button",{class:"pagination-btn",disabled:e.currentPage===1,onClick:n[0]||(n[0]=l=>t.$emit("update:currentPage",e.currentPage-1))}," Previous ",8,T),o("div",$,[(a(!0),s(_,null,f(d.visiblePages,l=>(a(),s("button",{key:l,class:m(["pagination-number",{active:l===e.currentPage}]),onClick:b=>t.$emit("update:currentPage",l)},i(l),11,I))),128))]),o("button",{class:"pagination-btn",disabled:e.currentPage===e.totalPages,onClick:n[1]||(n[1]=l=>t.$emit("update:currentPage",e.currentPage+1))}," Next ",8,O)])])}const A=p(L,[["render",z],["__scopeId","data-v-9d993fcf"]]);const F={name:"DataTable",components:{LoadingSpinner:M,Pagination:A},props:{columns:{type:Array,required:!0},data:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},loadingMessage:{type:String,default:"Loading..."},emptyMessage:{type:String,default:"No data available"},pagination:{type:Boolean,default:!1},currentPage:{type:Number,default:1},totalPages:{type:Number,default:1},total:{type:Number,default:0},perPage:{type:Number,default:20},sortColumn:{type:String,default:""},sortOrder:{type:String,default:"asc",validator:t=>["asc","desc"].includes(t)}},emits:["update:current-page","sort"],methods:{sort(t){let n="asc";this.sortColumn===t&&this.sortOrder==="asc"&&(n="desc"),this.$emit("sort",{column:t,order:n})},formatValue(t,n){return n.formatter&&typeof n.formatter=="function"?n.formatter(t):t??"-"}}},j={class:"data-table"},E={key:0,class:"table-loading"},U={key:1,class:"table"},w={class:"th-content"},G=["onClick"],H={key:0},J={key:1},K={key:0},Q=["colspan"];function R(t,n,e,u,c,d){const l=P("LoadingSpinner"),b=P("Pagination");return a(),s("div",j,[e.loading?(a(),s("div",E,[k(l,{message:e.loadingMessage},null,8,["message"])])):(a(),s("table",U,[o("thead",null,[o("tr",null,[(a(!0),s(_,null,f(e.columns,r=>(a(),s("th",{key:r.key,class:m(r.class)},[o("div",w,[o("span",null,i(r.label),1),r.sortable?(a(),s("button",{key:0,class:"sort-btn",onClick:h=>d.sort(r.key)},[e.sortColumn===r.key?(a(),s("span",H,i(e.sortOrder==="asc"?"↑":"↓"),1)):(a(),s("span",J,"⇅"))],8,G)):y("",!0)])],2))),128))])]),o("tbody",null,[e.data.length===0?(a(),s("tr",K,[o("td",{colspan:e.columns.length,class:"empty-state"},i(e.emptyMessage),9,Q)])):(a(!0),s(_,{key:1},f(e.data,(r,h)=>(a(),s("tr",{key:h},[(a(!0),s(_,null,f(e.columns,g=>(a(),s("td",{key:g.key,class:m(g.class)},[v(t.$slots,`cell-${g.key}`,{row:r,value:r[g.key]},()=>[N(i(d.formatValue(r[g.key],g)),1)],!0)],2))),128))]))),128))])])),e.pagination&&e.totalPages>1?(a(),S(b,{key:2,"current-page":e.currentPage,"total-pages":e.totalPages,total:e.total,"per-page":e.perPage,"onUpdate:currentPage":n[0]||(n[0]=r=>t.$emit("update:current-page",r))},null,8,["current-page","total-pages","total","per-page"])):y("",!0)])}const X=p(F,[["render",R],["__scopeId","data-v-db353836"]]);export{X as D};
