import{_ as c,r,x as y,k as g,o as S,c as V,a as o,l as m,g as w,K as T,w as b}from"./_plugin-vue_export-helper-25c71bc9.js";import{a as f}from"./central-v1-43971805.js";import{F as M}from"./FormInput-c38c3cc3.js";import{T as E}from"./Toast-c9da9e99.js";const U={name:"EmailSettings",components:{FormInput:M,Toast:E},setup(){const i=r(!1),s=r({smtp_host:"",smtp_port:587,smtp_username:"",smtp_password:"",smtp_encryption:"tls",mail_from_address:"",mail_from_name:""}),d=r(!1),t=r("success"),p=r(""),u=r(""),l=async()=>{i.value=!0;try{const n=await f.settings.list();if(n.data.success){const a=n.data.data||{};s.value={smtp_host:a.smtp_host||"",smtp_port:a.smtp_port||587,smtp_username:a.smtp_username||"",smtp_password:a.smtp_password||"",smtp_encryption:a.smtp_encryption||"tls",mail_from_address:a.mail_from_address||"",mail_from_name:a.mail_from_name||""}}}catch(n){console.error("Error fetching settings:",n)}finally{i.value=!1}},_=async()=>{i.value=!0;try{await f.settings.update(s.value),e("success","Success","Email settings saved successfully")}catch{e("error","Error","Failed to save email settings")}finally{i.value=!1}},e=(n,a,v)=>{t.value=n,p.value=a,u.value=v,d.value=!0};return y(()=>{l()}),{loading:i,settings:s,showToast:d,toastType:t,toastTitle:p,toastMessage:u,saveSettings:_}}},F={class:"settings-page"},P={class:"settings-section"},x={class:"form-group"},I={class:"settings-section"},N={class:"form-actions"},k=["disabled"];function B(i,s,d,t,p,u){const l=g("FormInput"),_=g("Toast");return S(),V("div",F,[s[13]||(s[13]=o("div",{class:"page-header"},[o("h2",null,"ðŸ“§ Email Settings"),o("p",{class:"page-subtitle"},"Configure email settings")],-1)),o("form",{onSubmit:s[7]||(s[7]=b((...e)=>t.saveSettings&&t.saveSettings(...e),["prevent"])),class:"settings-form"},[o("div",P,[s[11]||(s[11]=o("h3",null,"SMTP Configuration",-1)),m(l,{modelValue:t.settings.smtp_host,"onUpdate:modelValue":s[0]||(s[0]=e=>t.settings.smtp_host=e),label:"SMTP Host"},null,8,["modelValue"]),m(l,{modelValue:t.settings.smtp_port,"onUpdate:modelValue":s[1]||(s[1]=e=>t.settings.smtp_port=e),type:"number",label:"SMTP Port"},null,8,["modelValue"]),m(l,{modelValue:t.settings.smtp_username,"onUpdate:modelValue":s[2]||(s[2]=e=>t.settings.smtp_username=e),label:"SMTP Username"},null,8,["modelValue"]),m(l,{modelValue:t.settings.smtp_password,"onUpdate:modelValue":s[3]||(s[3]=e=>t.settings.smtp_password=e),type:"password",label:"SMTP Password"},null,8,["modelValue"]),o("div",x,[s[10]||(s[10]=o("label",null,"SMTP Encryption",-1)),w(o("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>t.settings.smtp_encryption=e),class:"form-select"},s[9]||(s[9]=[o("option",{value:"tls"},"TLS",-1),o("option",{value:"ssl"},"SSL",-1),o("option",{value:""},"None",-1)]),512),[[T,t.settings.smtp_encryption]])])]),o("div",I,[s[12]||(s[12]=o("h3",null,"From Address",-1)),m(l,{modelValue:t.settings.mail_from_address,"onUpdate:modelValue":s[5]||(s[5]=e=>t.settings.mail_from_address=e),type:"email",label:"From Email"},null,8,["modelValue"]),m(l,{modelValue:t.settings.mail_from_name,"onUpdate:modelValue":s[6]||(s[6]=e=>t.settings.mail_from_name=e),label:"From Name"},null,8,["modelValue"])]),o("div",N,[o("button",{type:"submit",class:"btn-primary",disabled:t.loading},"Save Settings",8,k)])],32),m(_,{show:t.showToast,"onUpdate:show":s[8]||(s[8]=e=>t.showToast=e),type:t.toastType,title:t.toastTitle,message:t.toastMessage},null,8,["show","type","title","message"])])}const D=c(U,[["render",B],["__scopeId","data-v-25f9cc8d"]]);export{D as default};
