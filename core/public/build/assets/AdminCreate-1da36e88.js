import{_ as y,r,k as c,o as V,c as _,a,l as t,J as w,g as T,K as g,w as A,f as b}from"./_plugin-vue_export-helper-25c71bc9.js";import{u as F,a as C}from"./central-v1-43971805.js";import{F as U}from"./FormInput-c38c3cc3.js";import{T as k}from"./Toast-c9da9e99.js";const x={name:"AdminCreate",components:{FormInput:U,Toast:k},setup(){const v=F(),e=r(!1),i=r({name:"",email:"",username:"",password:"",status:1}),o=r(!1),u=r("success"),f=r(""),n=r(""),l=async()=>{var s,d;e.value=!0;try{await C.admins.create(i.value),m("success","Success","Admin created successfully"),setTimeout(()=>v.push("/admins"),1500)}catch(p){m("error","Error",((d=(s=p.response)==null?void 0:s.data)==null?void 0:d.message)||"Failed to create admin")}finally{e.value=!1}},m=(s,d,p)=>{u.value=s,f.value=d,n.value=p,o.value=!0};return{form:i,loading:e,showToast:o,toastType:u,toastTitle:f,toastMessage:n,submitForm:l}}},I={class:"admin-form-page"},M={class:"page-header"},N={class:"form-group"},q={class:"form-actions"},B=["disabled"];function S(v,e,i,o,u,f){const n=c("router-link"),l=c("FormInput"),m=c("Toast");return V(),_("div",I,[a("div",M,[e[8]||(e[8]=a("h2",null,"➕ Add New Admin",-1)),t(n,{to:"/admins",class:"btn-secondary"},{default:w(()=>e[7]||(e[7]=[b("← Back to Admins")])),_:1})]),a("form",{onSubmit:e[5]||(e[5]=A((...s)=>o.submitForm&&o.submitForm(...s),["prevent"])),class:"form-container"},[t(l,{modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.name=s),label:"Name",required:""},null,8,["modelValue"]),t(l,{modelValue:o.form.email,"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.email=s),type:"email",label:"Email",required:""},null,8,["modelValue"]),t(l,{modelValue:o.form.username,"onUpdate:modelValue":e[2]||(e[2]=s=>o.form.username=s),label:"Username",required:""},null,8,["modelValue"]),t(l,{modelValue:o.form.password,"onUpdate:modelValue":e[3]||(e[3]=s=>o.form.password=s),type:"password",label:"Password",required:""},null,8,["modelValue"]),a("div",N,[e[10]||(e[10]=a("label",null,"Status",-1)),T(a("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.form.status=s),class:"form-select"},e[9]||(e[9]=[a("option",{value:"1"},"Active",-1),a("option",{value:"0"},"Inactive",-1)]),512),[[g,o.form.status]])]),a("div",q,[a("button",{type:"submit",class:"btn-primary",disabled:o.loading},"Create Admin",8,B),t(n,{to:"/admins",class:"btn-secondary"},{default:w(()=>e[11]||(e[11]=[b("Cancel")])),_:1})])],32),t(m,{show:o.showToast,"onUpdate:show":e[6]||(e[6]=s=>o.showToast=s),type:o.toastType,title:o.toastTitle,message:o.toastMessage},null,8,["show","type","title","message"])])}const P=y(x,[["render",S],["__scopeId","data-v-e4c15749"]]);export{P as default};
