import{_ as x,r as a,x as V,o as l,c as n,a as e,f as c,t as o,l as D,F as I,b as N,j as F,g as h,L as f}from"./_plugin-vue_export-helper-80b3f0a9.js";import{S as B}from"./central-v1-ce42f893.js";const z={class:"update-page"},L={class:"page-header"},A=["disabled"],E={key:0},M={key:1},T={class:"info-card"},P={class:"info-content"},O={class:"version-info"},j={class:"version-item"},R={class:"version-value"},Y={class:"version-item"},q={class:"version-value"},G={key:0,class:"update-card success"},H={class:"update-header"},J={class:"update-details"},K={class:"update-item"},Q={class:"update-value"},W={class:"update-item"},X={class:"update-value"},Z={class:"update-item"},$={class:"changelog"},ee={class:"update-actions"},te=["disabled"],se={key:0},ae={key:1},le={key:1,class:"update-card info"},ne={class:"settings-card"},oe={class:"settings-form"},ie={class:"form-group"},de={class:"form-group"},re={__name:"Update",setup(ue){const i=a(!1),d=a(!1),p=a(!1),v=a("1.0.0"),_=a("1.1.0"),y=a(new Date().toISOString()),b=a(new Date().toISOString()),k=a(["Bug fixes and performance improvements","New features added","Security updates"]),r=a({autoCheck:!0,autoInstall:!1}),m=async()=>{i.value=!0;try{await new Promise(s=>setTimeout(s,2e3)),p.value=!0}catch(s){console.error("Error checking for updates:",s),alert("Failed to check for updates")}finally{i.value=!1}},w=async()=>{if(confirm("Install system update? The system will be temporarily unavailable during installation.")){d.value=!0;try{await new Promise(s=>setTimeout(s,3e3)),v.value=_.value,p.value=!1,alert("Update installed successfully! Please refresh the page.")}catch(s){console.error("Error installing update:",s),alert("Failed to install update")}finally{d.value=!1}}},C=()=>{alert("Full changelog will be displayed here")},U=async()=>{try{alert("Settings saved successfully")}catch(s){console.error("Error saving settings:",s),alert("Failed to save settings")}},g=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never";return V(()=>{r.value.autoCheck&&m()}),(s,t)=>(l(),n("div",z,[e("div",L,[t[2]||(t[2]=e("div",null,[e("h1",{class:"page-title"},"ðŸ”„ System Update"),e("p",{class:"page-subtitle"},"Check for and install system updates")],-1)),e("button",{class:"btn btn-primary",onClick:m,disabled:i.value},[i.value?(l(),n("span",E,"â³")):(l(),n("span",M,"ðŸ”")),c(" "+o(i.value?"Checking...":"Check for Updates"),1)],8,A)]),e("div",T,[t[6]||(t[6]=e("div",{class:"info-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.739.62 1.074 1.16.318.517.54 1.05.541 1.604a2.75 2.75 0 01-2.33 2.726l-1.378.208a14.75 14.75 0 01-2.326 0l-1.378-.208a2.75 2.75 0 01-2.33-2.726c.001-.554.223-1.087.541-1.604.335-.54.75-.964 1.074-1.16.073-.044.146-.086.22-.127.332-.184.582-.496.645-.87L9.594 3.94zm4.154 2.336a.75.75 0 00-.75-.75l-3.196.033a.75.75 0 00.008 1.5l1.666-.017a12.04 12.04 0 011.272.006zm-5.5 2.5a.75.75 0 00-.75.75v.06l1.5.09a.75.75 0 10.088-1.5l-.838.05v-.06zm5.5.06l.838.05a.75.75 0 00-.088-1.5l-1.5-.09v.06a.75.75 0 00.75.75zM9.25 11.5a.75.75 0 000 1.5h5.5a.75.75 0 000-1.5h-5.5z","clip-rule":"evenodd"})])],-1)),e("div",P,[t[5]||(t[5]=e("h3",null,"Current Version",-1)),e("div",O,[e("div",j,[t[3]||(t[3]=e("span",{class:"version-label"},"Version:",-1)),e("span",R,o(v.value),1)]),e("div",Y,[t[4]||(t[4]=e("span",{class:"version-label"},"Last Updated:",-1)),e("span",q,o(g(y.value)),1)])])])]),p.value?(l(),n("div",G,[e("div",H,[t[7]||(t[7]=e("h3",null,"âœ¨ Update Available",-1)),D(B,{status:"active",text:"New Version"})]),e("div",J,[e("div",K,[t[8]||(t[8]=e("span",{class:"update-label"},"New Version:",-1)),e("span",Q,o(_.value),1)]),e("div",W,[t[9]||(t[9]=e("span",{class:"update-label"},"Release Date:",-1)),e("span",X,o(g(b.value)),1)]),e("div",Z,[t[10]||(t[10]=e("span",{class:"update-label"},"Changelog:",-1)),e("div",$,[e("ul",null,[(l(!0),n(I,null,N(k.value,(u,S)=>(l(),n("li",{key:S},o(u),1))),128))])])])]),e("div",ee,[e("button",{class:"btn btn-primary btn-lg",onClick:w,disabled:d.value},[d.value?(l(),n("span",se,"â³")):(l(),n("span",ae,"ðŸ“¥")),c(" "+o(d.value?"Installing Update...":"Install Update"),1)],8,te),e("button",{class:"btn btn-outline",onClick:C}," ðŸ“‹ View Full Changelog ")])])):i.value?F("",!0):(l(),n("div",le,t[11]||(t[11]=[e("div",{class:"update-header"},[e("h3",null,"âœ… System Up to Date")],-1),e("p",null,"You are running the latest version of the system. No updates are available at this time.",-1)]))),e("div",ne,[t[14]||(t[14]=e("h3",null,"Update Settings",-1)),e("div",oe,[e("div",ie,[e("label",null,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=u=>r.value.autoCheck=u)},null,512),[[f,r.value.autoCheck]]),t[12]||(t[12]=c(" Automatically check for updates "))])]),e("div",de,[e("label",null,[h(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=u=>r.value.autoInstall=u)},null,512),[[f,r.value.autoInstall]]),t[13]||(t[13]=c(" Automatically install minor updates "))])]),e("button",{class:"btn btn-primary",onClick:U}," ðŸ’¾ Save Settings ")])])]))}},ve=x(re,[["__scopeId","data-v-0bf19395"]]);export{ve as default};
