import{_ as w,r as c,x as N,k as S,o,c as r,a as e,l as h,J as $,g as y,h as A,K as D,F as V,b as L,t as n,j as E,f as T}from"./_plugin-vue_export-helper-25c71bc9.js";import{u as B,a as F,S as I}from"./central-v1-43971805.js";const M={class:"users-page"},P={class:"page-header"},R={class:"page-actions"},j={class:"filters-bar"},J={class:"search-box"},K={class:"table-container"},Q={key:0,class:"loading-overlay"},q={key:1,class:"users-table"},z={key:0},G={class:"user-name"},H={class:"role-badge"},O={class:"action-buttons"},W=["onClick"],X=["onClick"],Y=["onClick"],Z={key:0,class:"pagination"},ee=["disabled"],te={class:"pagination-info"},se=["disabled"],ae={__name:"UsersList",setup(le){const g=B(),d=c([]),p=c(!1),v=c(""),_=c(""),a=c({current_page:1,last_page:1,per_page:20,total:0});let m=null;const i=async(l=1)=>{p.value=!0;try{const t={page:l,per_page:a.value.per_page};v.value&&(t.search=v.value),_.value&&(t.status=_.value);const u=await F.users.list(t);u.data.success&&(d.value=u.data.data||[],u.data.meta&&(a.value=u.data.meta))}catch(t){console.error("Error loading users:",t),d.value=[]}finally{p.value=!1}},f=()=>{clearTimeout(m),m=setTimeout(()=>{i(1)},500)},k=l=>l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",U=l=>{g.push(`/users/${l.id}`)},C=l=>{g.push(`/users/${l.id}/edit`)},x=async l=>{if(confirm(`Are you sure you want to delete "${l.name}"?`))try{await i(a.value.current_page),alert("User deleted successfully")}catch(t){console.error("Error deleting user:",t),alert("Failed to delete user")}};return N(()=>{i()}),(l,t)=>{const u=S("router-link");return o(),r("div",M,[e("div",P,[t[6]||(t[6]=e("div",null,[e("h1",{class:"page-title"},"ðŸ‘¥ All Users"),e("p",{class:"page-subtitle"},"Manage all system users")],-1)),e("div",R,[h(u,{to:"/users/create",class:"btn btn-primary"},{default:$(()=>t[5]||(t[5]=[T(" âž• Add New User ")])),_:1})])]),e("div",j,[e("div",J,[y(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),placeholder:"Search users...",class:"search-input",onInput:f},null,544),[[A,v.value]])]),y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>_.value=s),class:"filter-select",onChange:t[2]||(t[2]=s=>i(1))},t[7]||(t[7]=[e("option",{value:""},"All Status",-1),e("option",{value:"1"},"Active",-1),e("option",{value:"0"},"Inactive",-1)]),544),[[D,_.value]])]),e("div",K,[p.value?(o(),r("div",Q,t[8]||(t[8]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading users...",-1)]))):(o(),r("table",q,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Username"),e("th",null,"Role"),e("th",null,"Status"),e("th",null,"Created At"),e("th",null,"Actions")])],-1)),e("tbody",null,[d.value.length===0?(o(),r("tr",z,t[9]||(t[9]=[e("td",{colspan:"8",class:"empty-cell"}," No users found ",-1)]))):(o(!0),r(V,{key:1},L(d.value,s=>(o(),r("tr",{key:s.id},[e("td",null,n(s.id),1),e("td",null,[e("div",G,[e("strong",null,n(s.name),1)])]),e("td",null,n(s.email),1),e("td",null,n(s.username||"-"),1),e("td",null,[e("span",H,n(s.role||"User"),1)]),e("td",null,[h(I,{status:s.status?"active":"inactive"},null,8,["status"])]),e("td",null,n(k(s.created_at)),1),e("td",null,[e("div",O,[e("button",{class:"btn-icon",onClick:b=>U(s),title:"View"}," ðŸ‘ï¸ ",8,W),e("button",{class:"btn-icon",onClick:b=>C(s),title:"Edit"}," âœï¸ ",8,X),e("button",{class:"btn-icon btn-danger",onClick:b=>x(s),title:"Delete"}," ðŸ—‘ï¸ ",8,Y)])])]))),128))])]))]),!p.value&&d.value.length>0&&a.value.last_page>1?(o(),r("div",Z,[e("button",{class:"pagination-btn",disabled:a.value.current_page===1,onClick:t[3]||(t[3]=s=>i(a.value.current_page-1))}," â† Previous ",8,ee),e("span",te," Page "+n(a.value.current_page)+" of "+n(a.value.last_page)+" ("+n(a.value.total)+" total) ",1),e("button",{class:"pagination-btn",disabled:a.value.current_page>=a.value.last_page,onClick:t[4]||(t[4]=s=>i(a.value.current_page+1))}," Next â†’ ",8,se)])):E("",!0)])}}},re=w(ae,[["__scopeId","data-v-199a32bd"]]);export{re as default};
