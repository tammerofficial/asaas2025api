import{_ as y,r as n,k as p,o as v,c as V,a as l,l as a,J as T,w,f as b}from"./_plugin-vue_export-helper-80b3f0a9.js";import{u as g,a as x}from"./central-v1-ce42f893.js";import{F}from"./FormInput-b6a1d924.js";import{T as C}from"./Toast-da97317a.js";const k={name:"TenantCreate",components:{FormInput:F,Toast:C},setup(){const _=g(),e=n(!1),i=n({name:"",domain:"",user_id:null,expire_date:"",data:{}}),t=n(!1),u=n("success"),f=n(""),r=n(""),s=async()=>{var o,d;e.value=!0;try{await x.tenants.create(i.value),m("success","Success","Tenant created successfully"),setTimeout(()=>_.push("/tenants"),1500)}catch(c){m("error","Error",((d=(o=c.response)==null?void 0:o.data)==null?void 0:d.message)||"Failed to create tenant")}finally{e.value=!1}},m=(o,d,c)=>{u.value=o,f.value=d,r.value=c,t.value=!0};return{form:i,loading:e,showToast:t,toastType:u,toastTitle:f,toastMessage:r,submitForm:s}}},U={class:"tenant-form-page"},I={class:"page-header"},N={class:"form-actions"},B=["disabled"];function M(_,e,i,t,u,f){const r=p("router-link"),s=p("FormInput"),m=p("Toast");return v(),V("div",U,[l("div",I,[e[7]||(e[7]=l("h2",null,"➕ Add New Tenant",-1)),a(r,{to:"/tenants",class:"btn-secondary"},{default:T(()=>e[6]||(e[6]=[b("← Back to Tenants")])),_:1})]),l("form",{onSubmit:e[4]||(e[4]=w((...o)=>t.submitForm&&t.submitForm(...o),["prevent"])),class:"form-container"},[a(s,{modelValue:t.form.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.form.name=o),label:"Tenant Name",required:""},null,8,["modelValue"]),a(s,{modelValue:t.form.domain,"onUpdate:modelValue":e[1]||(e[1]=o=>t.form.domain=o),label:"Domain",required:""},null,8,["modelValue"]),a(s,{modelValue:t.form.user_id,"onUpdate:modelValue":e[2]||(e[2]=o=>t.form.user_id=o),type:"number",label:"User ID"},null,8,["modelValue"]),a(s,{modelValue:t.form.expire_date,"onUpdate:modelValue":e[3]||(e[3]=o=>t.form.expire_date=o),type:"date",label:"Expire Date"},null,8,["modelValue"]),l("div",N,[l("button",{type:"submit",class:"btn-primary",disabled:t.loading},"Create Tenant",8,B),a(r,{to:"/tenants",class:"btn-secondary"},{default:T(()=>e[8]||(e[8]=[b("Cancel")])),_:1})])],32),a(m,{show:t.showToast,"onUpdate:show":e[5]||(e[5]=o=>t.showToast=o),type:t.toastType,title:t.toastTitle,message:t.toastMessage},null,8,["show","type","title","message"])])}const A=y(k,[["render",M],["__scopeId","data-v-0f3a84c1"]]);export{A as default};
